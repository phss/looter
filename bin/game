#!/usr/bin/env ruby

require_relative '../lib/looter'
require 'YAML'

adventure_name = ARGV.first

persistence = GamePersistence.new("games", "saves", "#{adventure_name}.yaml")
adventure = persistence.new_adventure

ui = UI.new($stdin, $stdout)

game = Game.new(
  ui, 
  persistence, 
  {
    :intro => IntroScreen,
    :room => RoomScreen,
    :exit => ExitScreen
  },
  :intro)
game.play(adventure)
